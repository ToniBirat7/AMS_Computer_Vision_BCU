{% extends 'core/base.html' %}
{% load static %}

{% block links %}
<link rel="stylesheet" href="{% static 'teacher/edit-profile.css' %}">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
{% endblock %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="edit-profile-container">
  <!-- Header -->
  <header class="edit-header">
    <div class="header-content">
      <h1><i class="ri-edit-2-line"></i> Edit Profile</h1>
      <p>Update your personal information</p>
    </div>
  </header>

  <!-- Edit Form -->
  <div class="edit-form-card">
    <form method="POST" class="edit-form">
      {% csrf_token %}

      <!-- Personal Information Section -->
      <div class="form-section">
        <h2><i class="ri-user-line"></i> Personal Information</h2>

        <div class="form-grid">
          <!-- Email -->
          <div class="form-group">
            <label for="email">
              <i class="ri-mail-line"></i>
              Email Address
            </label>
            <input type="email" id="email" name="email" value="{{ teacher.user.email }}" class="form-control"
              minlength="5" maxlength="50">
          </div>

          <!-- Address -->
          <div class="form-group">
            <label for="address">
              <i class="ri-map-pin-line"></i>
              Address
            </label>
            <input type="text" id="address" name="address" value="{{ teacher.address }}" class="form-control"
              minlength="5" maxlength="100" minlength="5" maxlength="100">
          </div>
        </div>
      </div>

      <!-- Contact Information Section -->
      <div class="form-section">
        <h2><i class="ri-contacts-line"></i> Contact Information</h2>

        <div class="form-grid">
          <!-- Primary Phone -->
          <div class="form-group">
            <label for="primary_number">
              <i class="ri-phone-line"></i>
              Primary Phone
            </label>
            <input type="tel" id="primary_number" name="primary_number" value="{{ teacher.primary_number }}"
              class="form-control" pattern="[0-9]{10}" minlength="10" maxlength="10">
          </div>

          <!-- Secondary Phone -->
          <div class="form-group">
            <label for="secondary_number">
              <i class="ri-phone-line"></i>
              Secondary Phone
            </label>
            <input type="tel" id="secondary_number" name="secondary_number" value="{{ teacher.secondary_number }}"
              class="form-control" pattern="[0-9]{10}" minlength="10" maxlength="10">
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <a href="{% url 'profile' %}" class="btn btn-secondary">
          <i class="ri-arrow-left-line"></i>
          Cancel
        </a>
        <button type="submit" class="btn btn-primary">
          <i class="ri-save-line"></i>
          Save Changes
        </button>
      </div>
    </form>
  </div>
</div>

{% if messages %}
<div class="message-container">
  {% for message in messages %}
  <div class="message {{ message.tags }}">
    {% if message.tags == 'success' %}
    <i class="ri-check-line"></i>
    {% else %}
    <i class="ri-error-warning-line"></i>
    {% endif %}
    {{ message }}
  </div>
  {% endfor %}
</div>
{% endif %}
{% endblock %}